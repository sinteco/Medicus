{"version":3,"sources":["containers/users/user/views/detailView/reports/listSection.js","containers/users/user/views/detailView/reports/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["DefaultReportItem","props","className","ReportItem","date","Date","report","to","appointmentId","name","ListSection","reports","length","map","index","handleDelete","deleteReport","ReportSection","useState","limit","state","setState","a","url","user","username","searchParams","URLSearchParams","append","Math","ceil","fetch","toString","headers","session","authToken","response","json","newReports","ok","Error","message","prevState","updatedReports","console","error","title","callback","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError"],"mappings":"8PAOA,SAASA,EAAkBC,GACvB,OACI,cAAC,IAAD,UACI,cAAC,IAAD,UACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAKC,UAAU,oCAAf,uCAQpB,SAASC,EAAWF,GAChB,IAAMG,EAAO,IAAIC,KAAKJ,EAAMK,OAAOF,MACnC,OACI,cAAC,IAAD,UACI,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAKF,UAAU,iCAAf,SACI,cAAC,IAAD,CAAMK,GAAE,wBAAmBN,EAAMK,OAAOE,eAAxC,SACKP,EAAMK,OAAOG,SAGtB,cAAC,IAAD,CAAKP,UAAU,yBAAf,SACI,cAAC,IAAD,CAAaE,KAAMA,aAS5B,SAASM,EAAYT,GAChC,OACI,cAAC,IAAD,UAC+B,IAAzBA,EAAMU,QAAQC,OACZ,mCACKX,EAAMU,QAAQE,KAAI,SAACP,EAAQQ,GAAT,OACf,cAACX,EAAD,CAEIG,OAAQA,EACRS,aAAcd,EAAMe,cAFfF,QAMjB,cAACd,EAAD,MC/CD,SAASiB,EAAchB,GAClC,MAA0BiB,mBAAS,CAC/BP,QAAS,GACTQ,MAAO,KAFX,mBAAOC,EAAP,KAAcC,EAAd,KADyC,4CAMzC,kCAAAC,EAAA,sEAEcC,EAFd,qBAEkCtB,EAAMuB,KAAKC,SAF7C,gBAIcC,EAAe,IAAIC,iBACZC,OAAO,OAAQC,KAAKC,KAAKV,EAAMT,QAAQC,OAASQ,EAAMD,QACnEO,EAAaE,OAAO,QAASR,EAAMD,OAN3C,SAQ+BY,MAAM,GAAD,OAAIR,EAAJ,YAAWG,EAAaM,YAAc,CAC9DC,QAAS,CACL,cAAgB,UAAhB,OAA2BhC,EAAMiC,QAAQC,cAVzD,cAQcC,EARd,iBAc+BA,EAASC,OAdxC,WAcYC,EAdZ,OAeaF,EAASG,GAftB,uBAgBkB,IAAIC,MAAMF,EAAWG,SAhBvC,QAmBQpB,GAAS,SAAAqB,GACL,IAAMC,EAAc,sBAAOD,EAAU/B,SAAjB,YAA6B2B,IAEjD,OAAO,2BACAI,GADP,IAEI/B,QAASgC,OAxBzB,kDA4BQC,QAAQC,MAAR,gDA5BR,2DANyC,sBAsCzC,OACI,qCACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAUC,MAAM,YAChB,cAACpC,EAAD,CACIC,QAASS,EAAMT,aAGvB,cAAC,IAAD,CAAYoC,SA9CqB,kD,0FCH9B,SAASC,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBJ,IAAQ,OAAAS,EAAA,GAA2BT,IGLvE,WACb,MAAM,IAAIU,UAAU,wIHIwE","file":"static/js/24.4fc5e8e2.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { NumericDate } from '../../../../../../components/dates';\r\nimport { Col, FluidContainer, Row } from '../../../../../../components/layout';\r\nimport { WidgetList, WidgetListItem } from '../../../../../../components/widgets';\r\n\r\n\r\nfunction DefaultReportItem(props) {\r\n    return (\r\n        <WidgetListItem>\r\n            <FluidContainer>\r\n                <Row>\r\n                    <Col className=\"md-font-sm text-center text-muted\">No report available</Col>\r\n                </Row>\r\n            </FluidContainer>\r\n        </WidgetListItem>\r\n    );\r\n}\r\n\r\n\r\nfunction ReportItem(props) {\r\n    const date = new Date(props.report.date);\r\n    return (\r\n        <WidgetListItem>\r\n            <FluidContainer>\r\n                <Row>\r\n                    <Col className=\"text-truncate font-weight-bold\">\r\n                        <Link to={`/appointments/${props.report.appointmentId}`}>\r\n                            {props.report.name}\r\n                        </Link>\r\n                    </Col>\r\n                    <Col className=\"col-auto text-truncate\">\r\n                        <NumericDate date={date} />\r\n                    </Col>\r\n                </Row>\r\n            </FluidContainer>\r\n        </WidgetListItem>\r\n    );\r\n}\r\n\r\n\r\nexport default function ListSection(props) {\r\n    return (\r\n        <WidgetList>\r\n            {(props.reports.length !== 0) ?\r\n                <>\r\n                    {props.reports.map((report, index) => (\r\n                        <ReportItem \r\n                            key={index}\r\n                            report={report}\r\n                            handleDelete={props.deleteReport}\r\n                        />\r\n                    ))}\r\n                </> :\r\n                <DefaultReportItem />\r\n            }\r\n        </WidgetList>\r\n    );\r\n}","import React, { useState } from 'react';\r\nimport { AutoLoader } from '../../../../../../components/loaders';\r\nimport { TitleBar, Widget } from '../../../../../../components/widgets';\r\n\r\nimport ListSection from './listSection';\r\n\r\n\r\nexport default function ReportSection(props) {\r\n    const [state, setState] = useState({\r\n        reports: [],\r\n        limit: 10\r\n    });\r\n\r\n    async function appendReports() {\r\n        try {\r\n            const url = `/api/users/${props.user.username}/labReports`;\r\n\r\n            const searchParams = new URLSearchParams();\r\n            searchParams.append('page', Math.ceil(state.reports.length / state.limit));\r\n            searchParams.append('limit', state.limit);\r\n\r\n            const response = await fetch(`${url}?${searchParams.toString()}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${props.session.authToken}`\r\n                }\r\n            });\r\n\r\n            let newReports = await response.json();\r\n            if (!response.ok) {\r\n                throw new Error(newReports.message);\r\n            }\r\n\r\n            setState(prevState => {\r\n                const updatedReports = [...prevState.reports, ...newReports];\r\n\r\n                return {\r\n                    ...prevState,\r\n                    reports: updatedReports\r\n                }\r\n            })\r\n        } catch (err) {\r\n            console.error(`Failed to append more reports. ${err}`);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Widget>\r\n                <TitleBar title=\"Reports\"></TitleBar>\r\n                <ListSection\r\n                    reports={state.reports}\r\n                />\r\n            </Widget>\r\n            <AutoLoader callback={appendReports} />\r\n        </>\r\n    );\r\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}