{"version":3,"sources":["containers/appointments/appointment/views/detailView/information/index.js"],"names":["UserInfo","props","useState","isLoading","setIsLoading","user","setUser","useEffect","a","fetch","username","headers","session","authToken","response","json","data","ok","Error","message","console","error","initialize","className","to","InfoRow","children","InfoTitle","InfoBody","ViewSection","startTime","appointment","endTime","title","patient","physician","date","hour12","serviceName","value","serviceCharge","paymentBalance","description","InformationSection"],"mappings":"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","file":"static/js/26.4af14cee.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FullTime, PrettyDate } from '../../../../../../components/dates';\r\nimport { Col, FluidContainer, Row } from '../../../../../../components/layout';\r\nimport { Loader } from '../../../../../../components/loaders';\r\nimport { BioData, Currency, FullName, ProfilePhoto } from '../../../../../../components/users';\r\nimport { TitleBar, Widget, WidgetBody } from '../../../../../../components/widgets';\r\n\r\n\r\nfunction UserInfo(props) {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [user, setUser] = useState({});\r\n\r\n    useEffect(() => {\r\n        async function initialize() {\r\n            try {\r\n                setIsLoading(true);\r\n                const response = await fetch(`/api/users/${props.user.username}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${props.session.authToken}`\r\n                }\r\n                });\r\n        \r\n                let data = await response.json();\r\n                if (!response.ok) {\r\n                    throw new Error(data.message);\r\n                }\r\n\r\n                setUser(data);\r\n                setIsLoading(false);\r\n            } catch (err) {\r\n                console.error(`Failed to load patient information. ${err}`);\r\n            }\r\n        }\r\n\r\n        initialize();\r\n    }, [props.user, props.session]);\r\n\r\n    return (\r\n        <FluidContainer>\r\n            <Row>\r\n                {\r\n                    (isLoading) ?\r\n                    <>\r\n                        <Col>\r\n                            <Loader isLoading={true} />\r\n                        </Col>\r\n                    </> :\r\n                    <>\r\n                        <Col className=\"col-auto px-0\">\r\n                            <ProfilePhoto \r\n                                className=\"md-pfl-sm md-pfl-round\"\r\n                                session={props.session}\r\n                                user={user}\r\n                            />\r\n                        </Col>\r\n                        <Col>\r\n                            <Link to={`/users/${user.username}`} className=\"font-weight-bold\">\r\n                                <FullName user={user} />\r\n                            </Link>\r\n                            <p className=\"my-0 md-font-sm text-muted\">\r\n                                <BioData user={user} />\r\n                            </p>\r\n                        </Col>\r\n                    </>\r\n                }\r\n            </Row>\r\n        </FluidContainer>\r\n    );\r\n}\r\n\r\n\r\nfunction InfoRow(props) {\r\n    return (\r\n        <Row>\r\n            {props.children}\r\n        </Row>\r\n    );\r\n}\r\n\r\nfunction InfoTitle(props) {\r\n    return (\r\n        <Col className=\"col-12 col-sm-4 col-md-3 col-lg-2 font-weight-bold d-block\">\r\n            {props.children}\r\n        </Col>\r\n    );\r\n}\r\n\r\nfunction InfoBody(props) {\r\n    return (\r\n        <Col className=\"col-12 col-sm-8 col-md-9 col-lg-10 mb-2 ml-0 d-block text-wrap\">\r\n            {props.children}\r\n        </Col>\r\n    );\r\n}\r\n\r\n\r\nfunction ViewSection(props) {\r\n    const startTime = props.appointment.startTime;\r\n    const endTime = props.appointment.endTime;\r\n\r\n    return (\r\n        <FluidContainer>\r\n            <InfoRow>\r\n                <InfoTitle>Title</InfoTitle>\r\n                <InfoBody>{props.appointment.title}</InfoBody>\r\n            </InfoRow>\r\n            <InfoRow>\r\n                <InfoTitle>Patient</InfoTitle>\r\n                <InfoBody>\r\n                    <UserInfo session={props.session} user={props.appointment.patient} />\r\n                </InfoBody>\r\n            </InfoRow>\r\n            <InfoRow>\r\n                <InfoTitle>Physician</InfoTitle>\r\n                <InfoBody>\r\n                    <UserInfo session={props.session} user={props.appointment.physician} />\r\n                </InfoBody>\r\n            </InfoRow>\r\n            <InfoRow>\r\n                <InfoTitle>Start Time</InfoTitle>\r\n                <InfoBody>\r\n                    <FullTime date={startTime} hour12={true}/>, <PrettyDate date={startTime} />\r\n                </InfoBody>\r\n            </InfoRow>\r\n            <InfoRow>\r\n                <InfoTitle>End Time</InfoTitle>\r\n                <InfoBody>\r\n                    <FullTime date={endTime} hour12={true}/>, <PrettyDate date={endTime} />\r\n                </InfoBody>\r\n            </InfoRow>\r\n            <InfoRow>\r\n                <InfoTitle>Service</InfoTitle>\r\n                <InfoBody>{props.appointment.serviceName}</InfoBody>\r\n            </InfoRow>\r\n            <InfoRow>\r\n                <InfoTitle>Service Charge</InfoTitle>\r\n                <InfoBody>\r\n                    <Currency value={props.appointment.serviceCharge} />\r\n                </InfoBody>\r\n            </InfoRow>\r\n            <InfoRow>\r\n                <InfoTitle>Payment Balance</InfoTitle>\r\n                <InfoBody>\r\n                    <Currency value={props.appointment.paymentBalance} />\r\n                </InfoBody>\r\n            </InfoRow>\r\n            <InfoRow>\r\n                <InfoTitle>Description</InfoTitle>\r\n                <InfoBody>{props.appointment.description}</InfoBody>\r\n            </InfoRow>\r\n        </FluidContainer>\r\n    );\r\n}\r\n\r\n\r\nexport default function InformationSection(props) {\r\n    return (\r\n        <>\r\n            <Widget>\r\n                <TitleBar title=\"Information\" />\r\n                <WidgetBody>\r\n                    <ViewSection  \r\n                        session={props.session}\r\n                        appointment={props.appointment}\r\n                    />\r\n                </WidgetBody>\r\n            </Widget>\r\n        </>\r\n    );\r\n}"],"sourceRoot":""}